<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Admin</title>
</head>
<body>
<h1>Admin Dashboard</h1>
<div id="who">Loading...</div>

<form id="logoutForm" method="POST" action="/logout">
    <button type="submit">Logout</button>
</form>

<script>
    // optional: fetch current user info
    fetch('/api/me').then(r => {
        if (!r.ok) throw new Error('Not authorized');
        return r.json();
    }).then(data => {
        document.getElementById('who').innerText = 'Signed in as: ' + data.username + ' (' + data.role + ')';
    }).catch(() => {
        // if not authorized, redirect to login
        window.location = '/login.html';
    });
</script>
</body>
</html>
